/* ==========================================
      미니홈 공통 레이아웃 (visitor + owner)
========================================== */

body {
  background: #f4efff url("../img/background.jpg") center/cover fixed;
  font-family: "돋움", sans-serif;
  display: flex;
  justify-content: center;
  padding-top: 40px;
}

.mini-home {
  width: 980px;
  height: 650px;
  display: grid;
  grid-template-columns: 240px 1fr 320px;
  gap: 10px;

  padding: 15px;
  background: rgba(255, 255, 255, 0.9);
  border: 2px solid #c7b7ff;
  border-radius: 10px;

  box-shadow: 0 10px 25px rgba(0,0,0,0.2);
}

/* =========================
      왼쪽 패널
========================= */

.left-panel {
  background: #ffffff;
  border: 1px solid #d7ccff;
  border-radius: 6px;
  padding: 12px;
}

.profile-photo {
  width: 100%;
  height: 260px;               /* 세로 더 길게 (싸이월드 감성) */
  background: #eee;
  background-size: cover;      /* 영역 꽉 채우기 */
  background-position: center; /* 가운데 정렬 */
  background-repeat: no-repeat;
  border: 1px solid #bbb;
  border-radius: 6px;
  margin-bottom: 12px;
}


.profile-name {
  font-weight: bold;
  margin-bottom: 6px;
  text-align: center;
}

.profile-status {
  font-size: 12px;
  text-align: center;
  margin-bottom: 10px;
}

.today-box {
  text-align: center;
  font-size: 12px;
  background: #f0e9ff;
  padding: 6px;
  border-radius: 6px;
  margin-bottom: 12px;
  border: 1px solid #c9baff;
}

/* 메뉴 */

.menu ul {
  list-style: none;
}

.menu-item {
  padding: 8px;
  font-size: 14px;
  border-bottom: 1px solid #eee;
  cursor: pointer;
}

.menu-item:hover {
  background: #f2eaff;
}

.menu-item.active {
  background: #daccff;
  font-weight: bold;
}

/* =========================
      중앙 미니룸
========================= */

.center-panel {
  background: #ffffff;
  border: 1px solid #d7ccff;
  border-radius: 6px;
  padding: 12px;
  text-align: center;
}

.miniroom-title {
  font-size: 12px;
  margin-bottom: 8px;
  font-weight: bold;
}

.miniroom-box {
  width: 100%;
  height: 300px;
  background: #eee;
  border-radius: 6px;
  border: 1px solid #bbb;
  background-size: cover;
  background-position: center;
}

/* =========================
      오른쪽 컨텐츠
========================= */

.right-panel {
  background: #ffffff;
  border: 1px solid #d7ccff;
  border-radius: 6px;
  padding: 12px;
}

.content-box {
  width: 100%;
  height: 100%;
  overflow-y: auto;
}

.tab-content {
  display: none;
}

.tab-content.active {
  display: block;
}

/* 다이어리 */

.diary-write-box textarea {
  width: 100%;
  height: 70px;
  resize: none;
}

.diary-write-box button {
  margin-top: 6px;
  float: right;
  padding: 6px 12px;
  background: #d5c4ff;
  border: none;
  border-radius: 6px;
  cursor: pointer;
}

.diary-item {
  background: #f8f5ff;
  padding: 10px;
  margin-top: 8px;
  border-radius: 6px;
  border: 1px solid #e2d9ff;
}

.delete-diary-btn {
  margin-top: 6px;
  padding: 4px 10px;
  background: #f2b7b7;
  border: none;
  border-radius: 6px;
  cursor: pointer;
}

/* 사진첩 */

.photo-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(90px, 1fr));
  gap: 8px;
  margin-top: 10px;
}

.photo-grid img {
  width: 100%;
  border-radius: 6px;
  border: 1px solid #ccc;
}

.delete-btn {
  margin-top: 5px;
  background: #f5bcbc;
  border: none;
  padding: 4px 10px;
  border-radius: 6px;
  cursor: pointer;
}

/* 방명록 */

.guestbook-form input,
.guestbook-form textarea {
  width: 100%;
  margin-top: 6px;
  padding: 6px;
  border-radius: 6px;
  border: 1px solid #ccc;
}

.guestbook-form button {
  margin-top: 6px;
  float: right;
  padding: 6px 12px;
  background: #c8b1ff;
  border: none;
  border-radius: 6px;
  cursor: pointer;
}

.guestbook-item {
  background: #f7f3ff;
  padding: 8px;
  margin-top: 8px;
  border-radius: 6px;
  border: 1px solid #dbd0ff;
}

.guestbook-meta {
  font-size: 11px;
  color: #555;
}

.logout-btn {
  margin-top: 20px;
  width: 100%;
  padding: 8px;
  background: #f2bcbc;
  border: none;
  border-radius: 6px;
  cursor: pointer;
}

/* 작성 영역 배치 */
.guestbook-form {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.message-input-row {
  display: flex;
  gap: 6px;
  align-items: flex-end;
}

#guest-message {
  flex: 1;
  height: 70px;
  font-size: 13px;
}

#guest-submit {
  padding: 6px 12px;
  font-size: 12px;
  background: #c3a6ff;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  height: 32px;
  white-space: nowrap;
}

#guest-submit:hover {
  background: #b38aff;
}

/* 방명록 항목 */
.guestbook-item {
  font-size: 13px;
  padding: 10px;
  border-radius: 8px;
  margin-bottom: 8px;
}

.guestbook-meta {
  font-size: 11px;
  opacity: 0.6;
  margin-bottom: 4px;
}

/* 줄마다 색깔 번갈이 */
.guestbook-item:nth-child(odd) {
  background: #f3eaff;
}

.guestbook-item:nth-child(even) {
  background: #ececff;
}

/* 오너일 때 작성칸 숨기기 */
.owner-mode .visitor-only {
  display: none !important;
}

/* 1번 문제 해결 - 다이어리/방명록 줄바꿈 정상 적용 */
.diary-text,
.guestbook-text {
  white-space: pre-wrap;       /* 줄바꿈 유지 + 자동 줄바꿈 */
  word-break: break-word;      /* 긴 단어도 박스 넘지 않도록 처리 */
  line-height: 1.4;
}

/* 3번 해결 - 프로필 업로드 커스텀 버튼 */
.custom-upload-btn {
  width: 85%;                     /* 너무 넓지 않게 줄임 */
  padding: 6px 0;
  background: #d9ccff;
  border: 1px solid #b7a9ff;
  border-radius: 8px;
  cursor: pointer;
  font-size: 13px;
  font-weight: bold;
  display: block;
  margin: 0 auto 12px auto;       /* 가운데 정렬 */
  transition: 0.2s;
}

.custom-upload-btn:hover {
  background: #c9b8ff;
}


/* 프로필 이미지가 영역 안에 예쁘게 들어가도록 */
.profile-photo {
  background-size: cover;   /* 꽉 채우되 비율 유지 */
  background-position: center;
  background-repeat: no-repeat;
}

/* ===== 1번 문제 해결: 텍스트 자동 줄바꿈 보정 ===== */
.diary-item, 
.guestbook-item {
  width: 100%;
  word-break: break-word;
  white-space: pre-wrap;
}

/* 텍스트 박스가 부모 크기 안에서 자연스럽게 확장되도록 */
.diary-text,
.guestbook-text {
  display: block;
  line-height: 1.4;
  width: 100%;
  word-break: break-word;
  white-space: pre-wrap;
}

/* 오른쪽 패널(inner scroll 영역) 높이 문제 보정 */
.content-box {
  overflow-y: auto;
  height: 100%;
}

/* ===== 오른쪽 탭 내용만 스크롤 (전체 페이지 늘어나는 문제 해결) ===== */
.right-panel {
  display: flex;
  flex-direction: column;
  overflow: hidden;   /* 패널 자체는 스크롤 안함 */
}

.content-box {
  flex: 1;                  /* 패널 안에서 남는 공간을 꽉 채움 */
  overflow-y: auto;         /* 이 안에서만 스크롤됨 */
  padding-right: 4px;       /* 스크롤바 여백 */
}

/* ===== 얇고 깔끔한 카드 스타일 ===== */
.diary-item,
.guestbook-item {
  padding: 8px 10px;
  margin-bottom: 10px;
  border-radius: 8px;
  word-break: break-word;
  white-space: pre-wrap;
  background: #f3ecff;
}

.diary-text,
.guestbook-text {
  margin-top: 6px;
  line-height: 1.25;   /* 얇게 보이도록 줄간격 축소 */
}

/* ===== 다이어리/방명록 카드 - 적당한 두께로 최종 보정 ===== */
.diary-item,
.guestbook-item {
  padding: 6px 10px !important;     /* 너무 두껍지 않게 딱 적당한 여백 */
  margin-bottom: 8px !important;    /* 카드 사이 여백 줄임 */
  border-radius: 8px !important;
  background: #f3ecff !important;   /* 은은한 파스텔감 */
  word-break: break-word !important;
  white-space: pre-wrap !important;
}

/* 텍스트 부분 – 줄간격을 자연스럽게 얇게 */
.diary-text,
.guestbook-text {
  margin-top: 4px !important;
  line-height: 1.28 !important;      /* 읽기 편하면서 납작한 라인 */
}

/* ===== 카드(다이어리/방명록) 얇게 최종 조정 ===== */
.diary-item,
.guestbook-item {
  padding: 6px 8px !important;      /* 위아래 여백 줄임 */
  margin-bottom: 10px !important;
  border-radius: 8px !important;
}

/* 날짜 영역 */
.diary-item .diary-date,
.guestbook-item .guestbook-meta {
  margin-bottom: 4px !important;
  font-size: 12px;
  color: #666;
  line-height: 1.1 !important;     /* 날짜 줄간격 최소 */
}

/* 본문 텍스트 */
.diary-text,
.guestbook-text {
  margin: 0 !important;            /* 위아래 여백 제거 */
  padding: 0 !important;
  line-height: 1.2 !important;     /* 컴팩트한 줄간격 */
  white-space: pre-line !important; /* pre-wrap보다 카드 덜 커지는 방식 */
}
